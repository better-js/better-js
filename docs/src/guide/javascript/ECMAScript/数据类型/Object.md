# Object

ECMAScript中的对象其实就是一组数据和功能的集合。

```js
let o = new Object();
```

**ECMAScript中的Object也是派生其他对象的基类**，Object类型的所有属性和方法在派生的对象上同样存在。

每个Object实例都有如下属性和方法

| 属性或方法                         | 说明                                                         |
| ---------------------------------- | ------------------------------------------------------------ |
| constructor                        | 用于创建当前对象的函数。在前面的例子中，这个属性的值就是 `Object()` 函数。 |
| hasOwnProperty(propertyName)       | 用于判断当前对象实例（不是原型）上是否存在给定的属性。要检查的属性名必须是字符串（`o.hasOwnProperty("name")`）或符号。 |
| isPrototypeOf(object)              | 用于判断当前对象是否为另一个对象的原型。                     |
| propertyIsEnumerable(propertyName) | 用于判断给定的属性是否可以使用，属性名必须是字符串。         |
| toLocaleString()                   | 返回对象的字符串表示，该字符串反应对象所在的本地化执行环境。 |
| toString()                         | 返回对象的字符串表示。                                       |
| valueOf()                          | 返回对象对应的字符串、数值或布尔值表示。通常与 `toString()` 返回值相同。 |





------



点表示法通常优于括号表示法，因为它更简洁且更易于阅读。然而，在某些情况下你必须使用括号。例如，如果对象属性名称保存在变量中，则不能使用点表示法访问该值，但可以使用括号表示法访问该值。



#### 什么是对象

对象（object）：JavaScript里的一种数据类型，可以理解为是一种无序的数据（键值对）集合。

特点：可以详细的描述某个事物，是一个能够具体做事情的事物

作用：描述复杂的数据、封装代码

#### 对象使用

显示地创建 `Object` 的实例有两种方式。

第一种方式是使用 `new` 操作符和 `Object` 构造 函数。

```js
let person = new Object();
person.name = "dongxu";
person.age = 27;
```

第二种方式是使用对象字面量表示法。对象字面量是对象定义的简写形式，目的是为了简化包含大量属性的对象的创建。

```js
let person = {
  name: "dongxu",
  age: 27
}
```

在对象字面量表示法中，属性名可以是字符串或数值，比如：

```js
let person = {
  name: "dongxu",
  age: 27,
  5: true
}
```

这个例子会得到一个带有属性name、age和5的对象。注意，数值属性会自动转换为字符串。

> 在使用字面量表示法定义对象时，并不会实际调用 Object 构造函数。



- 对象由属性和方法组成

  - 属性：信息或叫特征（名词）。
    - 比如：手机尺寸、颜色等
  - 方法：功能或叫行为（动词）。
    - 比如：手机打电话、发短信等
  - 注意：
    - 属性
      - 属性都是成对出现的，包括属性名和值，它们之间使用英文：分隔
      - 多个属性之间使用英文，分隔
      - 属性就是依附在对象上的变量（外面是变量，对象内是属性）
      - 属性名可以使用""或''，一般情况下省略，除非名称遇到特殊符号如空格、中横线等。
    - 方法
      - 方法是由方法名和函数两部分构成，它们之间使用：分隔
      - 多个属性之间使用英文，分隔
      - 方法是依附在对象中的函数
      - 方法名可以使用""或''，一般情况下省略，除非名称遇到特殊符号如空格、中横线等。

- 属性

  - 添加属性

    ```javascript
    //第一种
    对象名.属性名 = 值
    //第二种
    对象名[属性名] = 值
    ```

  - 属性访问

    声明对象，并添加了若干属性后，可以使用.或[]获得对象中属性对应的值，我们称之为属性访问。简单理解就是获得对象里面的属性值。

  ```javascript
  console.log(对象.属性名)
  console.log(对象['属性名'])
  ```

- 方法

  - 添加方法

    ```javascript
    //第一种
    对象名.方法名 = function(){	}
    
    //第二种
    对象名[方法名] = function(){ }
    ```

  - 方法访问

    声明对象，并添加了若干方法后，可以使用.调用对象中函数，我们称之为方法调用。

    ```javascript
    对象.方法名()
    ```

    

#### 操作对象

对象本质是无序的数据集合，操作数据无非就是增、删、改、查。

- 查询对象：

  ```javascript
  对象.属性 或者 对象['属性']
  
  对象.方法()
  ```

- 重新赋值：

  ```javascript
  对象.属性 = 值
  
  对象.方法 = function(){}
  ```

- 对象添加新的数据：

  ```javascript
  对象.新属性名 = 新值
  ```

- 删除对象中属性：

  ```javascript
  delete 对象.属性名
  ```

新增一个属性时，首先会去对象里面找是否有这个属性，如果有则更改其值，如果没有则新增这个属性。



#### 遍历对象

- 对象没有像数组一样的length属性，所以无法确定长度。

- 对象里面是无序的键值对，没有规律。不像数组里面有规律的下标

- for in 循环，专门遍历对象的

  ```javascript
  //语法：
  for (let 变量名 in 对象) {
  	console.log(对象[变量名])
  }
  
  //举例：
  let obj = {
  	uname:'小苏',
  	age:18
  }
  for (let k in obj) {
  	console.log(k)   //得到带字符串的属性名
  	console.log(obj[k])  //得到属性值
  }
  
  注意：
  	获取属性值是不用 对象名.k，会报undefined，应使用 对象名[k]
  	变量名一般用k表示，代表对象中的属性名，即k === 'uname' === 'age'，所以当用obj[k]获取属性值时，k不能加''
  ```

- 将其他类型转为字符串类型

  - null 和 undefined 不能够使用 .toString()
  - 只有对象类型才能 .toString()
  - 为什么数字类型和布尔类型可以使用
    - 因为数字和布尔类型也是对象的一种



#### 内置对象

- 内置对象是什么？

  JavaScript内部提供的对象，包含各种属性和方法给开发者调用

  ```javascript
  document.write()
  console.log()
  ```

- 内置对象Math

  - Math对象时JavaScript提供的一个“数学高手”对象

  - 提供一系列做数学运算的方法

  - 方法有：

    | 方法     | 含义                                      |
    | -------- | ----------------------------------------- |
    | random() | 生成0-1之间的随机数（包含0不包含1）       |
    | ceil()   | 向上取整（对0不公平，概率低，不推荐使用） |
    | floor()  | 向下取整                                  |
    | round()  | 就近取整（.5往大取整）  四舍五入          |
    | max()    | 找最大数                                  |
    | min()    | 找最小数                                  |
    | pow(x,y) | 幂运算： x的y次方                         |
    | abs()    | 返回一个数的绝对值                        |

- 生成任意范围随机数

  - 生成0-10的随机数

    ```javascript
    Math.floor(Math.random() * (10+1))
    ```

  - 生成5-10的随机数

    ```javascript
    Math.floor(Math.random() * (5+1))+5
    ```

  - 生成N-M之间的随机数

    ```javascript
    Math.floor(Math.random() * (M-N+1))+N
    ```



#### 扩展

##### 1. 术语解释

| 术语           | 解释                                                         | 举例                                              |
| -------------- | ------------------------------------------------------------ | ------------------------------------------------- |
| 关键字         | 在JavaScript中有特殊意义的词汇                               | let、var、function、if、else、switch、case、break |
| 保留字         | 在目前的JavaScript中没意义，但未来可能会具有特殊意义的词汇   | int、short、long、char                            |
| 标识（标识符） | 变量名，函数名的另一种叫法                                   | 无                                                |
| 表达式         | 能产生值的代码，一般配合运算符出现                           | 10+3、age>=18                                     |
| 语句           | 一句代码也称之为一条语句，一般按用途还会分类：输出语句、声明语句、分支语句 | 无                                                |

​		

##### 2. 基本数据类型和引用数据类型

- 简单数据类型又叫基本数据类型或者值类型，复杂类型又叫做引用类型
  - 值类型：简单数据类型/基本数据类型，在存储时变量中存储的是值本身，因此叫做值类型
    - string、number、boolean、undefined、null
  - 引用类型：复杂数据类型，在存储时变量中存储的仅仅是地址（引用），因此叫做引用数据类型
    - 通过new关键字创建的对象（系统对象、自定义对象），如Object、Array、Date等

- 堆栈空间分配区别：
  - 栈（操作系统）：由操作系统自动分配释放存放函数的参数值、局部变量的值等。其操作方式类似于数据结构中的栈；
    - 值类型（简单数据类型）的数据直接存放在变量（栈空间）中。
  - 堆（操作系统）：存储复杂类型（对象），一般由程序员分配释放，若程序员不释放，由垃圾回收机制回收。
    - 引用类型变量（栈空间）例存放的是地址，真正的对象实例存放在堆空间中。













