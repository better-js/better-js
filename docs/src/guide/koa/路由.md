路由：根据不同的URL，调用对应的函数

### 1.安装koa-router

```shell
npm i koa-router
```

步骤：

- 导入包：`const Router = require("koa-router");`
- 实例化路由对象：`const router = new Router();`
- 编写路由：`router.get("/", (ctx, next) =>{ ctx.body = "Hello api!" });`
- 注册中间件：`app.use(router.routes())`



### 2.编写路由

创建 `src/router` 文件夹，编写 `user.route.js` 文件

```js
const Router = require("koa-router");

// prefix 配置前缀
const router = new Router({
  prefix: "/users",
});

// GET /users/
router.get("/", (ctx, next) => {
  ctx.body = "hello users";
});

// 导出router
module.exports = router;
```

### 3.改写 `main.js` 文件

```js
const Koa = require("koa");
// 导入自定义模块
const { APP_PORT } = require("./config/config.default");
const userRouter = require("./router/user.route");

// 实例化对象
const app = new Koa();

// 注册路由中间件
// use必须接收一个函数作为中间件
app.use(userRouter.routes()).use(userRouter.allowedMethods());

// 监听
app.listen(APP_PORT, () => {
  console.log(`server is running on http://localhost:${APP_PORT}`);
});
```

